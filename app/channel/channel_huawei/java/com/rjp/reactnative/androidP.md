昨天收到华为市场的邮件说是app需要适配P版本，否则就给你关小黑屋。

P版本最重要的更新就是增加了刘海屏的兼容，华为Pro20就带一个刘海，丑到爆炸。怎么办，买华为是不可能买华为的了。

就只能装装模拟器维持生活了。果然，开了刘海之后，所有的页面都被遮挡了，因为刘海的高度明显是比状态栏的高度要高的。

我项目里用了沉浸式状态栏，将状态栏透明，然后增加一个等于状态栏高度的View，现在这个高度不够了，整体布局是往上移了，导致标题栏被刘海遮挡。

怎么解决呢？

网上找了很多博客，基本都是华为官方的博客copy的，按照谷歌的官方方法，首先修改target为“android-P”，然后获取刘海屏的高度。但是实际情况时，P版本的手机返回的sdk版本
居然是27 = = ！！！
官方给的方法根本走不通。